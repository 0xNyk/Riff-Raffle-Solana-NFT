{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kroni\\\\Desktop\\\\RIFF RAFFLE SITE PNSC\\\\Riff-Raffle-Solana-NFT final\\\\app\\\\src\\\\components\\\\AdminRoute\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Route, useHistory } from 'react-router';\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { ADMIN_ACCOUNTS } from '../../config/accounts';\nimport { routes } from '../../router/routes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const isAdmin = publicKey => publicKey && ADMIN_ACCOUNTS.includes(publicKey.toBase58());\n\nconst AdminRoute = props => {\n  _s();\n\n  const {\n    publicKey,\n    disconnect\n  } = useWallet();\n  const {\n    push,\n    location: {\n      pathname\n    }\n  } = useHistory();\n  useEffect(() => {\n    if (!!publicKey && !isAdmin(publicKey) || !publicKey && pathname !== routes.RAFFLES) {\n      disconnect();\n      push(routes.RAFFLES);\n    }\n  }, [publicKey, pathname, disconnect, push]);\n  return /*#__PURE__*/_jsxDEV(Route, { ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 10\n  }, this);\n};\n\n_s(AdminRoute, \"9UaLoW4kZR9waeDfUk7RJsP+2Mk=\", false, function () {\n  return [useWallet, useHistory];\n});\n\n_c = AdminRoute;\nexport default AdminRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"sources":["C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT final/app/src/components/AdminRoute/index.tsx"],"names":["React","useEffect","Route","useHistory","useWallet","ADMIN_ACCOUNTS","routes","isAdmin","publicKey","includes","toBase58","AdminRoute","props","disconnect","push","location","pathname","RAFFLES"],"mappings":";;;AAAA,OAAOA,KAAP,IAAoBC,SAApB,QAAqC,OAArC;AACA,SAASC,KAAT,EAA4BC,UAA5B,QAA8C,cAA9C;AACA,SAASC,SAAT,QAA0B,8BAA1B;AAGA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,MAAT,QAAuB,qBAAvB;;AAEA,OAAO,MAAMC,OAAO,GAAIC,SAAD,IACrBA,SAAS,IAAIH,cAAc,CAACI,QAAf,CAAwBD,SAAS,CAACE,QAAV,EAAxB,CADR;;AAGP,MAAMC,UAA0B,GAAIC,KAAD,IAAW;AAAA;;AAC5C,QAAM;AAAEJ,IAAAA,SAAF;AAAaK,IAAAA;AAAb,MAA4BT,SAAS,EAA3C;AACA,QAAM;AACJU,IAAAA,IADI;AAEJC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA;AAAF;AAFN,MAGFb,UAAU,EAHd;AAKAF,EAAAA,SAAS,CAAC,MAAM;AACd,QACG,CAAC,CAACO,SAAF,IAAe,CAACD,OAAO,CAACC,SAAD,CAAxB,IACC,CAACA,SAAD,IAAcQ,QAAQ,KAAKV,MAAM,CAACW,OAFrC,EAGE;AACAJ,MAAAA,UAAU;AACVC,MAAAA,IAAI,CAACR,MAAM,CAACW,OAAR,CAAJ;AACD;AACF,GARQ,EAQN,CAACT,SAAD,EAAYQ,QAAZ,EAAsBH,UAAtB,EAAkCC,IAAlC,CARM,CAAT;AASA,sBAAO,QAAC,KAAD,OAAWF;AAAX;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAjBD;;GAAMD,U;UAC8BP,S,EAI9BD,U;;;KALAQ,U;AAmBN,eAAeA,UAAf","sourcesContent":["import React, { FC, useEffect } from 'react';\r\nimport { Route, RouteProps, useHistory } from 'react-router';\r\nimport { useWallet } from '@solana/wallet-adapter-react';\r\nimport { PublicKey } from '@solana/web3.js';\r\n\r\nimport { ADMIN_ACCOUNTS } from '../../config/accounts';\r\nimport { routes } from '../../router/routes';\r\n\r\nexport const isAdmin = (publicKey: PublicKey | null) =>\r\n  publicKey && ADMIN_ACCOUNTS.includes(publicKey.toBase58());\r\n\r\nconst AdminRoute: FC<RouteProps> = (props) => {\r\n  const { publicKey, disconnect } = useWallet();\r\n  const {\r\n    push,\r\n    location: { pathname },\r\n  } = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      (!!publicKey && !isAdmin(publicKey)) ||\r\n      (!publicKey && pathname !== routes.RAFFLES)\r\n    ) {\r\n      disconnect();\r\n      push(routes.RAFFLES);\r\n    }\r\n  }, [publicKey, pathname, disconnect, push]);\r\n  return <Route {...props} />;\r\n};\r\n\r\nexport default AdminRoute;\r\n"]},"metadata":{},"sourceType":"module"}