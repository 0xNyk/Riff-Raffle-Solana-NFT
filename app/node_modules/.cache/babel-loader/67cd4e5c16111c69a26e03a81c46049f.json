{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{ASSOCIATED_TOKEN_PROGRAM_ID,Token,TOKEN_PROGRAM_ID}from\"@solana/spl-token\";import{Keypair,PublicKey,SystemProgram,Transaction}from\"@solana/web3.js\";var DT_MINT=new PublicKey(\"zRpVjG5wMWrNhpTtSiGMz9iBaMTQDdaVGCFLmYqCs4U\");var AIRDROPPER_KEYPAIR=Keypair.fromSecretKey(new Uint8Array(JSON.parse(process.env.REACT_APP_AIRDROPPER_KEYPAIR)));export var airdrop=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(connection,user){var aidropperATA,userATA,instructions,info,tx;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Token.getAssociatedTokenAddress(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,DT_MINT,AIRDROPPER_KEYPAIR.publicKey);case 2:aidropperATA=_context.sent;_context.next=5;return Token.getAssociatedTokenAddress(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,DT_MINT,user);case 5:userATA=_context.sent;instructions=[];_context.next=9;return connection.getAccountInfo(userATA);case 9:info=_context.sent;if(info===null){instructions.push(Token.createAssociatedTokenAccountInstruction(ASSOCIATED_TOKEN_PROGRAM_ID,TOKEN_PROGRAM_ID,DT_MINT,userATA,user,AIRDROPPER_KEYPAIR.publicKey));}instructions.push(Token.createTransferInstruction(TOKEN_PROGRAM_ID,aidropperATA,userATA,AIRDROPPER_KEYPAIR.publicKey,[],3000000));instructions.push(SystemProgram.transfer({fromPubkey:AIRDROPPER_KEYPAIR.publicKey,toPubkey:user,lamports:500000000}));tx=new Transaction({feePayer:AIRDROPPER_KEYPAIR.publicKey});tx.add.apply(tx,instructions);_context.next=17;return connection.sendTransaction(tx,[AIRDROPPER_KEYPAIR]);case 17:case\"end\":return _context.stop();}}},_callee);}));return function airdrop(_x,_x2){return _ref.apply(this,arguments);};}();","map":null,"metadata":{},"sourceType":"module"}