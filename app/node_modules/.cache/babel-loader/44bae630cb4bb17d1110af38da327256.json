{"ast":null,"code":"var _jsxFileName = \"C:\\\\Riff-Raffle-Solana-NFT build 1-1\\\\app\\\\src\\\\pages\\\\RaffleEndedScreen\\\\components\\\\PrizeCardEnded\\\\index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useMemo, useState } from 'react';\nimport { Card, CardActions, CardMedia, Typography } from '@material-ui/core';\nimport { Skeleton } from '@material-ui/lab';\nimport useRandomDrawer from '../../../../hooks/useRandomDrawer';\nimport useCommonStyles from '../../../../assets/styles';\nimport { useStyles } from './styles';\nimport { shortenPubkeyString } from '../../../../lib/utils';\nimport { useViewport } from '../../../../hooks/useViewport';\nimport ShortenedString from '../../../../components/ShortenedString';\nimport { DeviceType } from '../../../../providers/ViewportProvider';\nimport PrizeDetailsModal from '../../../../components/PrizeDetailsModal';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RandomTicketDrawer = ({\n  endRange\n}) => {\n  _s();\n\n  const randomTicket = useRandomDrawer({\n    endRange\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"#\", String((randomTicket || 0) + 1).padStart(4, '0')]\n  }, void 0, true);\n};\n\n_s(RandomTicketDrawer, \"R7WpxM3YOZRvltibp0/NZ6WHjRU=\", false, function () {\n  return [useRandomDrawer];\n});\n\n_c = RandomTicketDrawer;\n\nconst PrizeCardEnded = ({\n  prize,\n  raffle,\n  index,\n  badgeText,\n  winner,\n  className,\n  ...otherProps\n}) => {\n  _s2();\n\n  const {\n    device\n  } = useViewport();\n  const classes = { ...useCommonStyles(),\n    ...useStyles({\n      device\n    })\n  };\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const imageUrl = prize.meta.imageUri;\n  const maxPrizeNameLength = useMemo(() => device === DeviceType.Phone ? 14 : 18, [device]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PrizeDetailsModal, {\n      isOpen: isModalOpen,\n      setIsOpen: setIsModalOpen,\n      prize: prize,\n      prizeRank: index\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      onClick: () => {\n        setIsModalOpen(true);\n      },\n      ...otherProps,\n      className: `${classes.root} ${className}`,\n      children: [badgeText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.cardBadge,\n        children: badgeText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }, this), !isLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Skeleton, {\n          variant: \"rect\",\n          animation: 'wave',\n          classes: {\n            root: classes.media\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n        component: \"img\",\n        className: classes.media,\n        src: imageUrl,\n        alt: prize.mint.name,\n        style: isLoaded ? {} : {\n          display: 'none'\n        },\n        onLoad: () => setIsLoaded(true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        className: classes.prizeInfo,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.prizeInfoInner,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.prizeNameRow,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: index !== undefined && `#${index + 1} `\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              className: classes.prizeName,\n              children: /*#__PURE__*/_jsxDEV(ShortenedString, {\n                message: prize.mint.name,\n                maxCharLength: maxPrizeNameLength,\n                addTooltip: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.winnerSection,\n            children: winner !== undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: `Winner: #${String(winner + 1).padStart(4, '0')}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.winnerRow,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: \"Pubkey: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  className: classes.winnerPubkey,\n                  children: shortenPubkeyString(raffle.entrantsRaw[winner])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: \"Drawing...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                className: classes.winnertTicket,\n                children: /*#__PURE__*/_jsxDEV(RandomTicketDrawer, {\n                  endRange: raffle.totalTickets\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(PrizeCardEnded, \"tFLAeLAsxZHkfQSBkFb7bX3rIns=\", false, function () {\n  return [useViewport, useCommonStyles, useStyles];\n});\n\n_c2 = PrizeCardEnded;\nexport default PrizeCardEnded;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RandomTicketDrawer\");\n$RefreshReg$(_c2, \"PrizeCardEnded\");","map":{"version":3,"sources":["C:/Riff-Raffle-Solana-NFT build 1-1/app/src/pages/RaffleEndedScreen/components/PrizeCardEnded/index.tsx"],"names":["React","useMemo","useState","Card","CardActions","CardMedia","Typography","Skeleton","useRandomDrawer","useCommonStyles","useStyles","shortenPubkeyString","useViewport","ShortenedString","DeviceType","PrizeDetailsModal","RandomTicketDrawer","endRange","randomTicket","String","padStart","PrizeCardEnded","prize","raffle","index","badgeText","winner","className","otherProps","device","classes","isLoaded","setIsLoaded","isModalOpen","setIsModalOpen","imageUrl","meta","imageUri","maxPrizeNameLength","Phone","root","cardBadge","media","mint","name","display","prizeInfo","prizeInfoInner","prizeNameRow","undefined","prizeName","winnerSection","winnerRow","winnerPubkey","entrantsRaw","winnertTicket","totalTickets"],"mappings":"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","sourcesContent":["import React, { FC, useMemo, useState } from 'react';\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardClassKey,\r\n  CardMedia,\r\n  PaperProps,\r\n  StandardProps,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { Skeleton } from '@material-ui/lab';\r\n\r\nimport { Prize, PrizeType, Raffle } from '../../../../lib/types';\r\nimport useRandomDrawer from '../../../../hooks/useRandomDrawer';\r\nimport useCommonStyles from '../../../../assets/styles';\r\nimport { useStyles } from './styles';\r\nimport { shortenPubkeyString } from '../../../../lib/utils';\r\nimport { useViewport } from '../../../../hooks/useViewport';\r\nimport ShortenedString from '../../../../components/ShortenedString';\r\nimport { DeviceType } from '../../../../providers/ViewportProvider';\r\nimport PrizeDetailsModal from '../../../../components/PrizeDetailsModal';\r\n\r\nexport interface PrizeCardEndedProps\r\n  extends StandardProps<PaperProps, CardClassKey> {\r\n  prize: Prize;\r\n  raffle: Raffle;\r\n  index?: number;\r\n  badgeText?: string;\r\n  winner?: number;\r\n}\r\n\r\nconst RandomTicketDrawer: FC<{ endRange: number }> = ({ endRange }) => {\r\n  const randomTicket = useRandomDrawer({ endRange });\r\n  return <>#{String((randomTicket || 0) + 1).padStart(4, '0')}</>;\r\n};\r\n\r\nconst PrizeCardEnded: FC<PrizeCardEndedProps> = ({\r\n  prize,\r\n  raffle,\r\n  index,\r\n  badgeText,\r\n  winner,\r\n  className,\r\n  ...otherProps\r\n}) => {\r\n  const { device } = useViewport();\r\n  const classes = { ...useCommonStyles(), ...(useStyles({ device }) as any) };\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const imageUrl = prize.meta.imageUri;\r\n\r\n  const maxPrizeNameLength = useMemo(\r\n    () => (device === DeviceType.Phone ? 14 : 18),\r\n    [device]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <PrizeDetailsModal\r\n        isOpen={isModalOpen}\r\n        setIsOpen={setIsModalOpen}\r\n        prize={prize}\r\n        prizeRank={index}\r\n      />\r\n      <Card\r\n        onClick={() => {\r\n          setIsModalOpen(true);\r\n        }}\r\n        {...otherProps}\r\n        className={`${classes.root} ${className}`}\r\n      >\r\n        {badgeText && <div className={classes.cardBadge}>{badgeText}</div>}\r\n        {!isLoaded && (\r\n          <div>\r\n            <Skeleton\r\n              variant=\"rect\"\r\n              animation={'wave'}\r\n              classes={{\r\n                root: classes.media,\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n        <CardMedia\r\n          component=\"img\"\r\n          className={classes.media}\r\n          src={imageUrl}\r\n          alt={prize.mint.name}\r\n          style={isLoaded ? {} : { display: 'none' }}\r\n          onLoad={() => setIsLoaded(true)}\r\n        />\r\n        <CardActions className={classes.prizeInfo}>\r\n          <div className={classes.prizeInfoInner}>\r\n            <div className={classes.prizeNameRow}>\r\n              <Typography variant=\"body1\">\r\n                {index !== undefined && `#${index + 1} `}\r\n              </Typography>\r\n              <Typography variant=\"body1\" className={classes.prizeName}>\r\n                <ShortenedString\r\n                  message={prize.mint.name}\r\n                  maxCharLength={maxPrizeNameLength}\r\n                  addTooltip\r\n                />\r\n              </Typography>\r\n            </div>\r\n            <div className={classes.winnerSection}>\r\n              {winner !== undefined ? (\r\n                <div>\r\n                  <Typography variant=\"body1\">{`Winner: #${String(\r\n                    winner + 1\r\n                  ).padStart(4, '0')}`}</Typography>\r\n                  <div className={classes.winnerRow}>\r\n                    <Typography variant=\"body1\">Pubkey: </Typography>\r\n                    <Typography\r\n                      variant=\"body1\"\r\n                      className={classes.winnerPubkey}\r\n                    >\r\n                      {shortenPubkeyString(raffle.entrantsRaw[winner])}\r\n                    </Typography>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <Typography variant=\"body1\">Drawing...</Typography>\r\n                  <Typography variant=\"body1\" className={classes.winnertTicket}>\r\n                    <RandomTicketDrawer endRange={raffle.totalTickets} />\r\n                  </Typography>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardActions>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PrizeCardEnded;\r\n"]},"metadata":{},"sourceType":"module"}