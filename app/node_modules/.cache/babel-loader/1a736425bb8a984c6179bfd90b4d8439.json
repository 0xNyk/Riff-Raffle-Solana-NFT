{"ast":null,"code":"var _jsxFileName = \"C:\\\\Riff-Raffle-Solana-NFT build 1-1\\\\app\\\\src\\\\pages\\\\RaffleOngoingScreen\\\\index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useMemo, useRef } from 'react';\nimport { WalletMultiButton } from '@solana/wallet-adapter-material-ui';\nimport { ArrowBack, DoubleArrow } from '@material-ui/icons';\nimport { Button, IconButton, Typography } from '@material-ui/core';\nimport { useHistory } from 'react-router';\nimport { useProgramApis } from '../../hooks/useProgramApis';\nimport Countdown from '../../components/Countdown';\nimport PrizeShowcaseOngoing from './components/PrizeShowcaseOngoing';\nimport RaffleInfoSection from '../../components/RaffleInfoSection';\nimport { PurchaseTickets } from './components/PurchaseTicketsSection/PurchaseTicket';\nimport { routes } from '../../router/routes';\nimport Screen from '../../components/layout/Screen';\nimport useCommonStyles from '../../assets/styles';\nimport { useStyles } from './styles';\nimport PrizeGalleryOngoing from './components/PrizeGalleryOngoing';\nimport { useViewport } from '../../hooks/useViewport';\nimport { DeviceType } from '../../providers/ViewportProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst RaffleOngoingScreen = ({\n  raffle,\n  updateRaffle\n}) => {\n  _s();\n\n  var _draffleClient$provid2;\n\n  const {\n    device\n  } = useViewport();\n  const classes = { ...useCommonStyles(),\n    ...useStyles({\n      device\n    })\n  };\n  const {\n    push\n  } = useHistory();\n  const {\n    draffleClient\n  } = useProgramApis();\n  const prizeGalleryRef = useRef(null);\n  const entrant = useMemo(() => {\n    var _draffleClient$provid;\n\n    if (!((_draffleClient$provid = draffleClient.provider.wallet) === null || _draffleClient$provid === void 0 ? void 0 : _draffleClient$provid.publicKey)) return;\n    return raffle === null || raffle === void 0 ? void 0 : raffle.entrants.get(draffleClient.provider.wallet.publicKey.toString());\n  }, [raffle, (_draffleClient$provid2 = draffleClient.provider.wallet) === null || _draffleClient$provid2 === void 0 ? void 0 : _draffleClient$provid2.publicKey]); // \"Unnecessary\" dependency required due to React not picking up change in publicKey subfield\n\n  if (!raffle) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: device === DeviceType.Phone ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h1\",\n        children: `> ${raffle.metadata.name}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.countdown,\n        children: /*#__PURE__*/_jsxDEV(Countdown, {\n          endTimestamp: raffle.endTimestamp,\n          spacing: '5%'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RaffleInfoSection, {\n        raffle: raffle,\n        userConnected: !!draffleClient.provider.wallet.publicKey,\n        userTickets: entrant === null || entrant === void 0 ? void 0 : entrant.tickets\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.spacer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"overline\",\n        children: \"Prizes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PrizeGalleryOngoing, {\n        raffle: raffle,\n        scrollRef: prizeGalleryRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.spacer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), draffleClient.provider.wallet.publicKey ? /*#__PURE__*/_jsxDEV(PurchaseTickets, {\n        raffle: raffle,\n        updateRaffle: updateRaffle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(ConnectActionSection, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.spacer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.topSection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.raffleTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.leftTitleSection,\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              size: \"medium\",\n              className: classes.backButton,\n              onClick: () => push(routes.RAFFLES),\n              children: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.middleTitleSection,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h1\",\n              children: `> ${raffle.metadata.name}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.rightTitleSection\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.countdown,\n          children: /*#__PURE__*/_jsxDEV(Countdown, {\n            endTimestamp: raffle.endTimestamp,\n            spacing: '5%'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.mainContent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.prizesSection,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"overline\",\n            className: classes.prizesHeader,\n            children: [\"Prizes\", raffle.prizes.length > 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [' -', /*#__PURE__*/_jsxDEV(Button, {\n                className: classes.labelPrizeAmount,\n                variant: \"text\",\n                disableRipple: true,\n                onClick: () => {\n                  var _prizeGalleryRef$curr;\n\n                  return (_prizeGalleryRef$curr = prizeGalleryRef.current) === null || _prizeGalleryRef$curr === void 0 ? void 0 : _prizeGalleryRef$curr.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                  });\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"See all \", raffle.prizes.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(PrizeShowcaseOngoing, {\n            prizes: raffle.prizes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.detailsSection,\n          children: [/*#__PURE__*/_jsxDEV(RaffleInfoSection, {\n            raffle: raffle,\n            userConnected: !!draffleClient.provider.wallet.publicKey,\n            userTickets: entrant === null || entrant === void 0 ? void 0 : entrant.tickets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.actionSectionContainer,\n            children: draffleClient.provider.wallet.publicKey ? /*#__PURE__*/_jsxDEV(PurchaseTickets, {\n              raffle: raffle,\n              updateRaffle: updateRaffle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(ConnectActionSection, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), raffle.prizes.length > 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(DoubleArrow, {\n          className: classes.scrollIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(PrizeGalleryOngoing, {\n          raffle: raffle,\n          scrollRef: prizeGalleryRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RaffleOngoingScreen, \"SL+P5Mo52O57py9mhQNYDMY59gA=\", false, function () {\n  return [useViewport, useCommonStyles, useStyles, useHistory, useProgramApis];\n});\n\n_c = RaffleOngoingScreen;\n\nconst ConnectActionSection = () => {\n  _s2();\n\n  const {\n    device\n  } = useViewport();\n  const classes = { ...useCommonStyles(),\n    ...useStyles({\n      device\n    })\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.actionSection,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actionSectionInner,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actionTagline,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          className: classes.textHighlight,\n          children: \"Tickets are still available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: \"Don't miss out!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WalletMultiButton, {\n        variant: \"outlined\",\n        color: \"secondary\",\n        className: `${classes.mainButton} ${classes.connectToBuyButton}`,\n        children: \"Connect to buy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ConnectActionSection, \"X4RYMuunKUMNaSFUk5iqUTFLK5c=\", false, function () {\n  return [useViewport, useCommonStyles, useStyles];\n});\n\n_c2 = ConnectActionSection;\n\nconst RaffleOngoingScreenWithLayout = props => {\n  _s3();\n\n  const {\n    push\n  } = useHistory();\n  console.log(\"raffle ongoing screen\");\n  return /*#__PURE__*/_jsxDEV(Screen, {\n    onBackNavigation: () => push(routes.RAFFLES),\n    children: /*#__PURE__*/_jsxDEV(RaffleOngoingScreen, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(RaffleOngoingScreenWithLayout, \"SN3rivdM6JynFVqRWZkIPSEILRo=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = RaffleOngoingScreenWithLayout;\nexport default RaffleOngoingScreenWithLayout;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RaffleOngoingScreen\");\n$RefreshReg$(_c2, \"ConnectActionSection\");\n$RefreshReg$(_c3, \"RaffleOngoingScreenWithLayout\");","map":{"version":3,"sources":["C:/Riff-Raffle-Solana-NFT build 1-1/app/src/pages/RaffleOngoingScreen/index.tsx"],"names":["useMemo","useRef","WalletMultiButton","ArrowBack","DoubleArrow","Button","IconButton","Typography","useHistory","useProgramApis","Countdown","PrizeShowcaseOngoing","RaffleInfoSection","PurchaseTickets","routes","Screen","useCommonStyles","useStyles","PrizeGalleryOngoing","useViewport","DeviceType","RaffleOngoingScreen","raffle","updateRaffle","device","classes","push","draffleClient","prizeGalleryRef","entrant","provider","wallet","publicKey","entrants","get","toString","root","Phone","metadata","name","countdown","endTimestamp","tickets","spacer","topSection","raffleTitle","leftTitleSection","backButton","RAFFLES","middleTitleSection","rightTitleSection","mainContent","prizesSection","prizesHeader","prizes","length","labelPrizeAmount","current","scrollIntoView","behavior","block","detailsSection","actionSectionContainer","scrollIcon","ConnectActionSection","actionSection","actionSectionInner","actionTagline","textHighlight","mainButton","connectToBuyButton","RaffleOngoingScreenWithLayout","props","console","log"],"mappings":"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","sourcesContent":["import { FC, useMemo, useRef } from 'react';\r\nimport { WalletMultiButton } from '@solana/wallet-adapter-material-ui';\r\nimport { ArrowBack, DoubleArrow } from '@material-ui/icons';\r\nimport { Button, IconButton, Typography } from '@material-ui/core';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport { useProgramApis } from '../../hooks/useProgramApis';\r\nimport { Raffle } from '../../lib/types';\r\nimport Countdown from '../../components/Countdown';\r\nimport PrizeShowcaseOngoing from './components/PrizeShowcaseOngoing';\r\nimport RaffleInfoSection from '../../components/RaffleInfoSection';\r\nimport { PurchaseTickets } from './components/PurchaseTicketsSection/PurchaseTicket';\r\nimport { routes } from '../../router/routes';\r\nimport Screen from '../../components/layout/Screen';\r\nimport useCommonStyles from '../../assets/styles';\r\nimport { useStyles } from './styles';\r\nimport PrizeGalleryOngoing from './components/PrizeGalleryOngoing';\r\nimport { useViewport } from '../../hooks/useViewport';\r\nimport { DeviceType } from '../../providers/ViewportProvider';\r\nimport Spacer from '../../components/Spacer';\r\n\r\ninterface IRaffleOngoingScreenProps {\r\n  raffle: Raffle;\r\n  updateRaffle: () => void;\r\n}\r\n\r\nconst RaffleOngoingScreen: FC<IRaffleOngoingScreenProps> = ({\r\n  raffle,\r\n  updateRaffle,\r\n}) => {\r\n  const { device } = useViewport();\r\n  const classes = { ...useCommonStyles(), ...(useStyles({ device }) as any) };\r\n  const { push } = useHistory();\r\n  const { draffleClient } = useProgramApis();\r\n\r\n  const prizeGalleryRef = useRef<HTMLDivElement>(null);\r\n\r\n  const entrant = useMemo(() => {\r\n    if (!draffleClient.provider.wallet?.publicKey) return;\r\n    return raffle?.entrants.get(\r\n      draffleClient.provider.wallet.publicKey.toString()\r\n    );\r\n  }, [raffle, draffleClient.provider.wallet?.publicKey]); // \"Unnecessary\" dependency required due to React not picking up change in publicKey subfield\r\n\r\n  if (!raffle) return null;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {device === DeviceType.Phone ? (\r\n        <>\r\n          <Typography variant=\"h1\">{`> ${raffle.metadata.name}`}</Typography>\r\n          <div className={classes.countdown}>\r\n            <Countdown endTimestamp={raffle.endTimestamp} spacing={'5%'} />\r\n          </div>\r\n          <RaffleInfoSection\r\n            raffle={raffle}\r\n            userConnected={!!draffleClient.provider.wallet.publicKey}\r\n            userTickets={entrant?.tickets}\r\n          />\r\n          <div className={classes.spacer} />\r\n          <Typography variant=\"overline\">Prizes</Typography>\r\n          <PrizeGalleryOngoing raffle={raffle} scrollRef={prizeGalleryRef} />\r\n          <div className={classes.spacer} />\r\n          {draffleClient.provider.wallet.publicKey ? (\r\n            <PurchaseTickets raffle={raffle} updateRaffle={updateRaffle} />\r\n          ) : (\r\n            <ConnectActionSection />\r\n          )}\r\n          <div className={classes.spacer} />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className={classes.topSection}>\r\n            <div className={classes.raffleTitle}>\r\n              <div className={classes.leftTitleSection}>\r\n                <IconButton\r\n                  size=\"medium\"\r\n                  className={classes.backButton}\r\n                  onClick={() => push(routes.RAFFLES)}\r\n                >\r\n                  <ArrowBack />\r\n                </IconButton>\r\n              </div>\r\n              <div className={classes.middleTitleSection}>\r\n                <Typography variant=\"h1\">{`> ${raffle.metadata.name}`}</Typography>\r\n              </div>\r\n              <div className={classes.rightTitleSection}></div>\r\n            </div>\r\n            <div className={classes.countdown}>\r\n              <Countdown endTimestamp={raffle.endTimestamp} spacing={'5%'} />\r\n            </div>\r\n          </div>\r\n          <div className={classes.mainContent}>\r\n            <div className={classes.prizesSection}>\r\n              <Typography variant=\"overline\" className={classes.prizesHeader}>\r\n                Prizes\r\n                {raffle.prizes.length > 3 && (\r\n                  <>\r\n                    {' -'}\r\n                    <Button\r\n                      className={classes.labelPrizeAmount}\r\n                      variant=\"text\"\r\n                      disableRipple\r\n                      onClick={() =>\r\n                        prizeGalleryRef.current?.scrollIntoView({\r\n                          behavior: 'smooth',\r\n                          block: 'start',\r\n                        })\r\n                      }\r\n                    >\r\n                      <span>See all {raffle.prizes.length}</span>\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </Typography>\r\n              <PrizeShowcaseOngoing prizes={raffle.prizes} />\r\n            </div>\r\n            <div className={classes.detailsSection}>\r\n              <RaffleInfoSection\r\n                raffle={raffle}\r\n                userConnected={!!draffleClient.provider.wallet.publicKey}\r\n                userTickets={entrant?.tickets}\r\n              />\r\n              <div className={classes.actionSectionContainer}>\r\n                {draffleClient.provider.wallet.publicKey ? (\r\n                  <PurchaseTickets\r\n                    raffle={raffle}\r\n                    updateRaffle={updateRaffle}\r\n                  />\r\n                ) : (\r\n                  <ConnectActionSection />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {raffle.prizes.length > 3 && (\r\n            <>\r\n              <DoubleArrow className={classes.scrollIcon} />\r\n              <PrizeGalleryOngoing\r\n                raffle={raffle}\r\n                scrollRef={prizeGalleryRef}\r\n              />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ConnectActionSection: FC = () => {\r\n  const { device } = useViewport();\r\n  const classes = { ...useCommonStyles(), ...(useStyles({ device }) as any) };\r\n\r\n  return (\r\n    <div className={classes.actionSection}>\r\n      <div className={classes.actionSectionInner}>\r\n        <div className={classes.actionTagline}>\r\n          <Typography variant=\"h3\" className={classes.textHighlight}>\r\n            Tickets are still available.\r\n          </Typography>\r\n          <Typography variant=\"body1\">Don't miss out!</Typography>\r\n        </div>\r\n        <WalletMultiButton\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          className={`${classes.mainButton} ${classes.connectToBuyButton}`}\r\n        >\r\n          Connect to buy\r\n        </WalletMultiButton>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IRaffleOngoingDetailsProps {\r\n  raffle: Raffle;\r\n  updateRaffle: () => void;\r\n}\r\n\r\nconst RaffleOngoingScreenWithLayout: FC<IRaffleOngoingDetailsProps> = (\r\n  props\r\n) => {\r\n  const { push } = useHistory();\r\n\r\n  console.log(\"raffle ongoing screen\")\r\n\r\n  return (\r\n    <Screen onBackNavigation={() => push(routes.RAFFLES)}>\r\n      <RaffleOngoingScreen {...props} />\r\n    </Screen>\r\n  );\r\n};\r\n\r\nexport default RaffleOngoingScreenWithLayout;\r\n"]},"metadata":{},"sourceType":"module"}