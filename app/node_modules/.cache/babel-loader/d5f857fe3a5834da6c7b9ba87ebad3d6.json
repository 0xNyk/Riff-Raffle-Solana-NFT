{"ast":null,"code":"import _slicedToArray from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useMemo,useState}from'react';import{Card,CardActions,CardMedia,Typography}from'@material-ui/core';import{Skeleton}from'@material-ui/lab';import useRandomDrawer from'../../../../hooks/useRandomDrawer';import useCommonStyles from'../../../../assets/styles';import{useStyles}from'./styles';import{shortenPubkeyString}from'../../../../lib/utils';import{useViewport}from'../../../../hooks/useViewport';import ShortenedString from'../../../../components/ShortenedString';import{DeviceType}from'../../../../providers/ViewportProvider';import PrizeDetailsModal from'../../../../components/PrizeDetailsModal';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var RandomTicketDrawer=function RandomTicketDrawer(_ref){var endRange=_ref.endRange;var randomTicket=useRandomDrawer({endRange:endRange});return/*#__PURE__*/_jsxs(_Fragment,{children:[\"#\",String((randomTicket||0)+1).padStart(4,'0')]});};var PrizeCardEnded=function PrizeCardEnded(_ref2){var prize=_ref2.prize,raffle=_ref2.raffle,index=_ref2.index,badgeText=_ref2.badgeText,winner=_ref2.winner,className=_ref2.className,otherProps=_objectWithoutProperties(_ref2,[\"prize\",\"raffle\",\"index\",\"badgeText\",\"winner\",\"className\"]);var _useViewport=useViewport(),device=_useViewport.device;var classes=_objectSpread(_objectSpread({},useCommonStyles()),useStyles({device:device}));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoaded=_useState2[0],setIsLoaded=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var imageUrl=prize.meta.imageUri;var maxPrizeNameLength=useMemo(function(){return device===DeviceType.Phone?14:18;},[device]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PrizeDetailsModal,{isOpen:isModalOpen,setIsOpen:setIsModalOpen,prize:prize,prizeRank:index}),/*#__PURE__*/_jsxs(Card,_objectSpread(_objectSpread({onClick:function onClick(){setIsModalOpen(true);}},otherProps),{},{className:\"\".concat(classes.root,\" \").concat(className),children:[badgeText&&/*#__PURE__*/_jsx(\"div\",{className:classes.cardBadge,children:badgeText}),!isLoaded&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Skeleton,{variant:\"rect\",animation:'wave',classes:{root:classes.media}})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",className:classes.media,src:imageUrl,alt:prize.mint.name,style:isLoaded?{}:{display:'none'},onLoad:function onLoad(){return setIsLoaded(true);}}),/*#__PURE__*/_jsx(CardActions,{className:classes.prizeInfo,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.prizeInfoInner,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.prizeNameRow,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:index!==undefined&&\"#\".concat(index+1,\" \")}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:classes.prizeName,children:/*#__PURE__*/_jsx(ShortenedString,{message:prize.mint.name,maxCharLength:maxPrizeNameLength,addTooltip:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.winnerSection,children:winner!==undefined?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Winner: #\".concat(String(winner+1).padStart(4,'0'))}),/*#__PURE__*/_jsxs(\"div\",{className:classes.winnerRow,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Pubkey: \"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:classes.winnerPubkey,children:shortenPubkeyString(raffle.entrantsRaw[winner])})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Drawing...\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:classes.winnertTicket,children:/*#__PURE__*/_jsx(RandomTicketDrawer,{endRange:raffle.totalTickets})})]})})]})})]}))]});};export default PrizeCardEnded;","map":null,"metadata":{},"sourceType":"module"}