{"ast":null,"code":"import _objectSpread from\"C:/Users/kroni/Desktop/RIFF RAFFLE SITE PNSC/Riff-Raffle-Solana-NFT/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useEffect,useMemo}from'react';import{Button,Typography}from'@material-ui/core';import{WalletMultiButton}from'@solana/wallet-adapter-material-ui';import confetti from'canvas-confetti';import useCommonStyles from'../../../../assets/styles';import{useStyles}from'./styles';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EndedRaffleActionSection=function EndedRaffleActionSection(_ref){var raffle=_ref.raffle,userPubkey=_ref.userPubkey,entrant=_ref.entrant,entrantWinningTickets=_ref.entrantWinningTickets,scrollRef=_ref.scrollRef;var classes=_objectSpread(_objectSpread({},useCommonStyles()),useStyles());var noPrizes=useMemo(function(){return raffle.prizes.length===0;},[raffle]);var winnersRevealed=useMemo(function(){return!!raffle.randomness;},[raffle]);var userIsConnected=useMemo(function(){return!!userPubkey;},[userPubkey]);var userHasParticipated=useMemo(function(){return((entrant===null||entrant===void 0?void 0:entrant.tickets.length)||0)>0;},[entrant]);useEffect(function(){if(entrantWinningTickets.length===0)return;var confettiTimerId=makeConfetti();return function(){return clearInterval(confettiTimerId);};},[entrantWinningTickets.length]);if(noPrizes)return/*#__PURE__*/_jsx(_Fragment,{children:\"No prizes to reveal!\"});if(!winnersRevealed)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",className:classes.textHighlight,children:\"Winners will be announced soon.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Hang tight!\"})]});if(!userIsConnected)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",className:classes.textHighlight,children:\"Winners have been announced.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Connect your wallet to check if you have won any prizes!\"}),/*#__PURE__*/_jsx(WalletMultiButton,{className:\"\".concat(classes.mainButton,\" \").concat(classes.connectToBuyButton),children:\"Connect to reveal\"})]});if(!userHasParticipated)return/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Uh oh! It looks like you did not participate in this raffle!\"});if(entrantWinningTickets.length===0)return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",className:classes.textHighlight,children:\"Oh no! No prize.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:\"Better luck next time!\"})]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",className:classes.textHighlight,children:\"Hurray, you won!\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Typography,{children:[/*#__PURE__*/_jsx(Button,{className:classes.scrollLink,variant:\"text\",onClick:function onClick(){var _scrollRef$current;return(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:'smooth',block:'start'});},children:\"Scroll\"}),\"to see your prize(s)!\"]})})]});};var makeConfetti=function makeConfetti(){var duration=5*1000;var animationEnd=Date.now()+duration;var defaults={startVelocity:30,spread:360,ticks:60,zIndex:0};function randomInRange(min,max){return Math.random()*(max-min)+min;}var intervalId;intervalId=setInterval(function(){var timeLeft=animationEnd-Date.now();if(timeLeft<=0){return clearInterval(intervalId);}var particleCount=50*(timeLeft/duration);// since particles fall down, start a bit higher than random\nconfetti(Object.assign({},defaults,{particleCount:particleCount,origin:{x:randomInRange(0.1,0.3),y:Math.random()-0.2}}));confetti(Object.assign({},defaults,{particleCount:particleCount,origin:{x:randomInRange(0.7,0.9),y:Math.random()-0.2}}));},250);return intervalId;};export default EndedRaffleActionSection;","map":null,"metadata":{},"sourceType":"module"}